{"ast":null,"code":"import _slicedToArray from\"/Users/leigh/Documents/Term 1/man-emp-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{Modal,Button,Alert}from'react-bootstrap';import{useContext,useEffect,useState}from'react';import{EmployeeContext}from'../contexts/EmployeeContext';import Employee from'./Employee';import AddForm from'./AddForm';import Pagination from'./Pagination';var EmployeeList=function EmployeeList(){var _useContext=useContext(EmployeeContext),sortedEmployees=_useContext.sortedEmployees;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAlert=_useState2[0],setShowAlert=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var handleShow=function handleShow(){return setShow(true);};var handleClose=function handleClose(){return setShow(false);};//const handleShowAlert = () =>setShowAlert(true);\nvar _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(2),_useState8=_slicedToArray(_useState7,1),employeesPerPage=_useState8[0];var handleShowAlert=function handleShowAlert(){setShowAlert(true);setTimeout(function(){setShowAlert(false);},2000);};useEffect(function(){handleClose();return function(){handleShowAlert();};},[sortedEmployees]);var indexOfLastEmployee=currentPage*employeesPerPage;var indexOfFirstEmployee=indexOfLastEmployee-employeesPerPage;var currentEmployees=sortedEmployees.slice(indexOfFirstEmployee,indexOfLastEmployee);var totalPagesNum=Math.ceil(sortedEmployees.length/employeesPerPage);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Manage \",/*#__PURE__*/_jsx(\"b\",{children:\"Employees\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(Button,{onClick:handleShow,className:\"btn btn-success\",\"data-toggle\":\"modal\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"\\uE147\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Add New Employee\"})]})})]})}),/*#__PURE__*/_jsx(Alert,{show:showAlert,variant:\"success\",children:\"Emlployee List Updated Succefully!\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentEmployees.map(function(employee){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(Employee,{employee:employee})},employee.id);})})]}),/*#__PURE__*/_jsx(Pagination,{pages:totalPagesNum,setCurrentPage:setCurrentPage,currentEmployees:currentEmployees,sortedEmployees:sortedEmployees}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add Employee\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(AddForm,{})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close Button\"})})]})]});};export default EmployeeList;","map":{"version":3,"sources":["/Users/leigh/Documents/Term 1/man-emp-main/src/components/EmployeeList.js"],"names":["Modal","Button","Alert","useContext","useEffect","useState","EmployeeContext","Employee","AddForm","Pagination","EmployeeList","sortedEmployees","showAlert","setShowAlert","show","setShow","handleShow","handleClose","currentPage","setCurrentPage","employeesPerPage","handleShowAlert","setTimeout","indexOfLastEmployee","indexOfFirstEmployee","currentEmployees","slice","totalPagesNum","Math","ceil","length","map","employee","id"],"mappings":"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","sourcesContent":["import { Modal, Button, Alert} from 'react-bootstrap';\nimport {useContext, useEffect, useState } from 'react';\nimport {EmployeeContext} from '../contexts/EmployeeContext';\nimport Employee from './Employee';\nimport AddForm from './AddForm';\nimport Pagination from './Pagination';\n\nconst EmployeeList = () => {\n\n    const {sortedEmployees} = useContext(EmployeeContext);\n\n    const [showAlert, setShowAlert] = useState(false);\n\n    const [show, setShow] = useState(false);\n    \n    const handleShow = () => setShow(true);\n    const handleClose = () => setShow(false);\n    //const handleShowAlert = () =>setShowAlert(true);\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [employeesPerPage] = useState(2)\n\n    const handleShowAlert = () => {\n        setShowAlert(true);\n        setTimeout(()=> {\n            setShowAlert(false);\n        }, 2000)\n    }\n\n    useEffect(() => {\n        handleClose();\n\n        return () => {\n            handleShowAlert();\n        }\n    }, [sortedEmployees])\n\n    const indexOfLastEmployee = currentPage * employeesPerPage;\n    const indexOfFirstEmployee = indexOfLastEmployee - employeesPerPage;\n    const currentEmployees = sortedEmployees.slice(indexOfFirstEmployee, indexOfLastEmployee);\n    const totalPagesNum = Math.ceil(sortedEmployees.length / employeesPerPage);\n\n\n    return (\n    <>\n    <div className=\"table-title\">\n        <div className=\"row\">\n            <div className=\"col-sm-6\">\n                <h2>Manage <b>Employees</b></h2>\n            </div>\n            <div className=\"col-sm-6\">\n                <Button onClick={handleShow} className=\"btn btn-success\" data-toggle=\"modal\"><i className=\"material-icons\">&#xE147;</i> <span>Add New Employee</span></Button>\t\t\t\t\t\n            </div>\n        </div>\n    </div>\n\n    <Alert show={showAlert} variant=\"success\">\n        Emlployee List Updated Succefully!\n    </Alert>\n\n    <table className=\"table table-striped table-hover\">\n        <thead>\n            <tr>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Address</th>\n                <th>Phone</th>\n                <th>Actions</th>\n            </tr>\n        </thead>\n        <tbody>\n\n                {\n                  currentEmployees.map(employee => (\n                      <tr key={employee.id}>\n                        <Employee employee={employee} />\n                    </tr>\n                  ))  \n                }\n                \n\n        </tbody>\n    </table>\n\n    <Pagination pages = {totalPagesNum}\n                setCurrentPage={setCurrentPage}\n                currentEmployees ={currentEmployees}\n                sortedEmployees = {sortedEmployees} />\n\n    <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n            <Modal.Title>\n                Add Employee\n            </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <AddForm />\n        </Modal.Body>\n        <Modal.Footer>\n                <Button variant=\"secondary\" onClick={handleClose}>\n                    Close Button\n                </Button>\n        </Modal.Footer>\n    </Modal>\n    </>\n    )\n}\n\nexport default EmployeeList;"]},"metadata":{},"sourceType":"module"}